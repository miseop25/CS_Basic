# IPC(Interprocess Communication) - PIPE

## IPC, 프로세스간 통신이란? 

IPC(Interprocess Commnuication)는 말 그대로 프로세스간애   
데이터를 주고받는 행위를 말한다! 우리가 소통하듯이 말이다.    

이번 포스팅에서는 IPC 중에서 PIPE 통신과 관련된 것을 진행하고자 한다.(IPC 통신의 종류는 다양하다.)    


*** 

## PIPE(파이프)    

파이프를 활용한 통신 방법은 IPC 중에서 가장 간단한 통신 방법중 하나이다.    
간단한 그림을 통해 살펴보면 이해가 조금 더 빠를 수 있을 것 같다.   

![스크린샷 2021-08-05 오후 12 13 17](https://user-images.githubusercontent.com/44546283/128285161-3f0b9c4d-65f3-4c6e-80e9-e5933767bdbb.png)

우리가 현실에서 보는 파이프처럼 저런 관을 통해서 데이터를 주고 받을 수 있다.  

### 파이프의 특징과 장단점   

    특징 
    - 파이프는 두개의 프로세스를 연결하고 하나의 프로세스는 데이터를 쓰기만 하고    
      다른 프로세스는 데이터를 읽으수만 있다. 
    - 두 프로세스 모두 읽기/쓰기를 하고 싶다면 두개의 파이프를 만들어야 가능하다.  
    - read()와 write()가 기본적으로 block mode로 작동되어 프로세스가 Read 대기중이라면   
      read가 끝나기 전에는 write를 할 수 없다. 
    
    장점  
    - 단순하여 간단하게 사용 할 수 있다.   
    
    단점 
    - 두 프로세스가 서로를 명확하게 알고 있어야 한다.(그래서 부모 자식 프로세스에서 많이 사용)
    - 양방향 통신을 하려고 한다면 두개의 파이프를 만들어야 하기 때문에 구현이 다소 복잡해질 수 있다.   
    - Buffer가 상대적으로 작기 때문에 Overflow가 날 확률이 높다.   


간단하게 파이프의 개념과 장단점에 대해서 살펴봤는데 서로 생판 모르는 프로세스끼리는 통신을 진행할 수 없다는 큰 문제가 있다.   
하지만 걱정할 필요 없다! 서로 몰라도 사용가능한 Named PIPE라는 것이 존재한다.   


## Named PIPE   

Named PIPE 는 말 그대로 위에서 소개한 파이프에 이름이 있는 것이다.   
위의 파이프는 식별하는 이름이 없어서 두 프로세스가 누구인지 확실히 알 수 있을때 사용할 수 있는 반면  
Named 파이프는 파이프 이름만 알고 있다면 전혀 상관없는 프로세스간에도 통신이 가능하다.   

![스크린샷 2021-08-05 오후 12 47 09](https://user-images.githubusercontent.com/44546283/128287784-2c88dc0d-5e9b-4c9f-aabc-b52d0c280a1a.png)   

하지만 Named 파이프도 기본적으로 파이프 구조이기 때문에 위에서 말한 파이프와 유사한 특징을 가지고 있다.   
즉, 양방향으로 통신을 하고 싶다면 두개의 파이프가 존재해야 한다.   



업무를 진행하다 프로세스간 통신 중 Named 파이프를 알아볼 일이 있어서 간략하게 정리해 보았습니다.   

보다 자세한 내용은 다음 MSDN의 문서를 참조하면 좋을것 같습니다.   
https://docs.microsoft.com/ko-kr/windows/win32/ipc/pipes
